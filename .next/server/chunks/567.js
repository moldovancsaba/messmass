exports.id=567,exports.ids=[567],exports.modules={48:(a,b,c)=>{"use strict";c.d(b,{IZ:()=>e,bM:()=>f});var d=c(4104);function e(a,b){console.log("\uD83E\uDDEE calculateActiveCharts called with:",{configurationsCount:a.length,statsKeys:Object.keys(b),configurations:a.map(a=>({id:a.chartId,title:a.title,active:void 0!==a.active?a.active:a.isActive}))});let c=a.filter(a=>void 0===a.active&&void 0===a.isActive||!0===a.active||!0===a.isActive);return console.log(`🧮 Calculating ${c.length} active charts (${a.length-c.length} inactive)`),console.log("Active configurations:",c.map(a=>a.title)),console.log(`🧮 Batch calculating ${c.length} charts...`),c.map(a=>(function(a,b){let c;console.log(`🧮 Calculating chart: ${a.title} (${a.type})`),console.log("Configuration elements:",a.elements),console.log("Available stats:",Object.keys(b));let e=!1,f=a.elements.map(a=>{try{console.log(`Evaluating element: ${a.label} with formula: ${a.formula}`);let c=(0,d.w9)(a.formula,b);return console.log(`Result for ${a.label}: ${c}`),"NA"===c&&(e=!0,console.warn(`⚠️ Formula evaluation returned NA for element "${a.label}": ${a.formula}`)),{id:a.id,label:a.label,value:c,color:a.color}}catch(b){return e=!0,console.error(`❌ Error evaluating formula for element "${a.label}":`,b),b instanceof Error&&console.error("Error details:",b.message,b.stack),{id:a.id,label:a.label,value:"NA",color:a.color}}});if("bar"===a.type&&a.showTotal)try{let a=f.map(a=>a.value).filter(a=>"number"==typeof a);0===a.length?(c="NA",e=!0):a.length<f.length?(c=a.reduce((a,b)=>a+b,0),e=!0):c=a.reduce((a,b)=>a+b,0)}catch(b){c="NA",e=!0,console.error(`❌ Error calculating total for chart "${a.title}":`,b)}if("engagement"===a.chartId&&a.showTotal)try{let a=b.indoor+b.outdoor+b.stadium,d=b.merched,f=b.eventAttendees||0;a>0&&f>0?c=Math.round(d/a*f):(c="NA",e=!0)}catch(a){c="NA",e=!0,console.error(`❌ Error calculating Core Fan Team:`,a)}if("merchandise"===a.chartId&&a.showTotal)try{let a=b.indoor+b.outdoor+b.stadium,d=b.merched;a>=d?c=(a-d)*10:(c="NA",e=!0)}catch(a){c="NA",e=!0,console.error(`❌ Error calculating potential merchandise sales:`,a)}return console.log(`✅ Chart calculation complete: ${f.length} elements, ${e?"with":"without"} errors`),{chartId:a.chartId,title:a.title,type:a.type,emoji:a.emoji,subtitle:a.subtitle,totalLabel:a.totalLabel,elements:f,total:c,hasErrors:e}})(a,b))}function f(a,b={}){if("NA"===a)return b.showNA||"N/A";let c=b.decimals??0;switch(b.type){case"currency":return`€${a.toLocaleString(void 0,{minimumFractionDigits:c,maximumFractionDigits:c})}`;case"percentage":return`${a.toFixed(c)}%`;default:return a.toLocaleString(void 0,{minimumFractionDigits:c,maximumFractionDigits:c})}}},3073:()=>{},5254:(a,b,c)=>{"use strict";c.d(b,{AQ:()=>g,at:()=>j});var d=c(687),e=c(3210),f=c(48);let g=({result:a,className:b=""})=>{if(!a||!a.elements||0===a.elements.length)return(0,d.jsx)("div",{className:`no-data-message ${b}`,children:(0,d.jsxs)("p",{children:["No data available for ",a?.title||"this chart"]})});let c=a.elements.filter(a=>"number"==typeof a.value),e=c.reduce((a,b)=>a+b.value,0);return 0===c.length||0===e?(0,d.jsx)("div",{className:`no-data-message ${b}`,children:(0,d.jsxs)("p",{children:["No data available for ",a.title]})}):"pie"===a.type?(0,d.jsx)(h,{result:a,validElements:c,totalValue:e,className:b}):"bar"===a.type?(0,d.jsx)(i,{result:a,className:b}):(0,d.jsx)("div",{className:`chart-error ${b}`,children:(0,d.jsxs)("p",{children:["Unsupported chart type: ",a.type]})})},h=({result:a,validElements:b,totalValue:c,className:e})=>{let g=0,h=b.map(a=>{let b=a.value/c*100,e=a.value/c*360,h=g,i=g+e;g+=e;let j=90+80*Math.cos((h-90)*Math.PI/180),k=90+80*Math.sin((h-90)*Math.PI/180),l=90+80*Math.cos((i-90)*Math.PI/180),m=90+80*Math.sin((i-90)*Math.PI/180),n=`M 90 90 L ${j} ${k} A 80 80 0 ${+(e>180)} 1 ${l} ${m} Z`;return(0,d.jsx)("g",{children:(0,d.jsx)("path",{d:n,fill:a.color,stroke:"white",strokeWidth:"2",children:(0,d.jsx)("title",{children:`${a.label}: ${(0,f.bM)(a.value)} (${b.toFixed(1)}%)`})})},a.id)}),i=b.map(a=>{let b=(a.value/c*100).toFixed(1);return(0,d.jsxs)("div",{className:"legend-item",children:[(0,d.jsx)("div",{className:"legend-color",style:{backgroundColor:a.color}}),(0,d.jsxs)("span",{children:[a.label,": ",(0,f.bM)(a.value)," (",b,"%)"]})]},a.id)});return(0,d.jsxs)("div",{className:e,children:[(0,d.jsx)("div",{className:"pie-chart-container",children:(0,d.jsxs)("svg",{width:"180",height:"180",className:"pie-chart",children:[h,(0,d.jsx)("circle",{cx:"90",cy:"90",r:"35",fill:"white",stroke:"#e5e7eb",strokeWidth:"2"}),(0,d.jsx)("text",{x:"90",y:"98",textAnchor:"middle",className:"chart-emoji",fontSize:"36",fill:"#1a202c",children:a.emoji||"\uD83D\uDCCA"})]})}),(0,d.jsx)("div",{className:"chart-legend",children:i}),void 0!==a.total&&(0,d.jsx)("div",{className:"chart-total",children:(0,d.jsxs)("strong",{children:["Total: ",(0,f.bM)(a.total)]})})]})},i=({result:a,className:b})=>{let c=a.elements.filter(a=>"number"==typeof a.value),e=Math.max(...c.map(a=>a.value));if(0===c.length||0===e)return(0,d.jsx)("div",{className:`no-data-message ${b}`,children:(0,d.jsxs)("p",{children:["No data available for ",a.title]})});let g=a.elements.map(a=>{let b=a.value,c="number"==typeof b;return(0,d.jsx)("div",{className:"legend-text-row",children:(0,d.jsxs)("span",{children:[a.label,": ",c?(0,f.bM)(b):"N/A"]})},a.id)}),h=a.elements.map(a=>{let b=a.value;return(0,d.jsx)("div",{className:"bar-only-row",children:(0,d.jsx)("div",{className:"bar-container",children:(0,d.jsx)("div",{className:"bar-fill",style:{width:`${"number"==typeof b?b/e*100:0}%`,"--bar-color":a.color}})})},a.id)});return(0,d.jsxs)("div",{className:b,children:[void 0!==a.total&&(0,d.jsxs)("div",{className:"chart-total-top",children:[(0,d.jsx)("div",{className:"chart-total-value",children:(a=>"NA"===a?"N/A":a>1e3?`€${a.toLocaleString()}`:a.toString())(a.total)}),(0,d.jsx)("div",{className:"chart-total-label",children:a.totalLabel||"Total"})]}),(0,d.jsxs)("div",{className:"bar-chart-two-columns",children:[(0,d.jsx)("div",{className:"legends-column",children:g}),(0,d.jsx)("div",{className:"bars-column",children:h})]})]})},j=({title:a,subtitle:b,emoji:f,children:g,className:h=""})=>{let i=(0,e.useRef)(null),j=async()=>{if(i.current)try{let b=(await c.e(424).then(c.bind(c,4424))).default;await new Promise(a=>setTimeout(a,100));let d=await b(i.current,{logging:!1}),e=document.createElement("a"),f=a.replace(/[^a-z0-9]/gi,"_").toLowerCase();e.download=`chart_${f}.png`,e.href=d.toDataURL("image/png",1),document.body.appendChild(e),e.click(),document.body.removeChild(e),console.log("Chart downloaded successfully!")}catch(a){console.error("Failed to export chart as PNG:",a),alert("Failed to export chart. Please try again.")}};return(0,d.jsxs)("div",{className:`chart-container ${h}`,ref:i,children:[(0,d.jsxs)("div",{className:"chart-header",children:[(0,d.jsx)("h3",{className:"chart-title",children:a}),b&&(0,d.jsx)("p",{className:"chart-subtitle",children:b}),(0,d.jsx)("button",{className:"btn btn-sm btn-primary chart-download-btn",onClick:j,title:"Download chart as PNG",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",marginLeft:"auto"},children:"\uD83D\uDCE5 Download PNG"})]}),(0,d.jsx)("div",{className:"chart-content",children:g})]})}},6189:(a,b,c)=>{"use strict";var d=c(5773);c.o(d,"useParams")&&c.d(b,{useParams:function(){return d.useParams}}),c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}})},8350:a=>{a.exports={container:"stats_container__6Qj_G",header:"stats_header__D02pP",title:"stats_title__dICf0",subtitle:"stats_subtitle__06tKS",meta:"stats_meta__KJ7Ie",statsGrid:"stats_statsGrid__XC2zd",section:"stats_section___97hA",sectionTitle:"stats_sectionTitle__pwUk7",statsRow:"stats_statsRow__W8z4M",ageGrid:"stats_ageGrid__zG84Z",statCard:"stats_statCard__1knnv",calculatedCard:"stats_calculatedCard__8eEj1",statLabel:"stats_statLabel__0ppCb",statValue:"stats_statValue__xU62i",loading:"stats_loading__BYA9u",spinner:"stats_spinner__7iBFe",spin:"stats_spin__UWbii",error:"stats_error__HceYC","charts-section":"stats_charts-section__Ra1Hz","section-title":"stats_section-title__pVs1T","charts-grid":"stats_charts-grid__6g_0W","chart-item":"stats_chart-item__IASHu",footer:"stats_footer__KrWrI"}}};