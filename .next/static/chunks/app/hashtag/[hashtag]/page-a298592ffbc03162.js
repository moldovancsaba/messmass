(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{267:(s,a,e)=>{Promise.resolve().then(e.bind(e,7655))},7655:(s,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>o});var t=e(5155),l=e(2115),i=e(5695),c=e(3003),r=e.n(c);e(535);var d=e(6994),n=e(1918);function o(){let s=(0,i.useParams)(),a=null==s?void 0:s.hashtag,[e,c]=(0,l.useState)(null),[o,h]=(0,l.useState)([]),[m,j]=(0,l.useState)([]),[x,v]=(0,l.useState)([]),[u,N]=(0,l.useState)(!0),[g,p]=(0,l.useState)(!1),[f,b]=(0,l.useState)(null),[C,D]=(0,l.useState)("");(0,l.useEffect)(()=>{let s=async()=>{try{console.log("\uD83D\uDD0D Fetching hashtag stats for:",a);let s=await fetch("/api/hashtags/".concat(encodeURIComponent(a))),e=await s.json();e.success?(c(e.project),h(e.projects||[]),e.project.hashtags&&e.project.hashtags.length>0&&D(e.project.hashtags[0])):b(e.error||"Failed to load hashtag statistics")}catch(s){console.error("Failed to fetch hashtag stats:",s),b("Failed to load hashtag statistics")}finally{N(!1)}};a&&s()},[a]),(0,l.useEffect)(()=>{(async()=>{try{console.log("\uD83D\uDCCA Fetching chart configurations...");let s=await fetch("/api/chart-config/public"),a=await s.json();a.success?(j(a.configurations),console.log("✅ Loaded ".concat(a.configurations.length," chart configurations"))):console.error("Failed to load chart configurations:",a.error)}catch(s){console.error("Failed to fetch chart configurations:",s)}})()},[]),(0,l.useEffect)(()=>{if(e&&m.length>0){p(!0);try{if(console.log("\uD83E\uDDEE Calculating chart results with hashtag aggregated stats..."),console.log("Project stats:",e.stats),console.log("Chart configurations:",m),"function"!=typeof n.IZ)throw console.error("❌ calculateActiveCharts is not a function:",n.IZ),Error("calculateActiveCharts is not a function");let s=(0,n.IZ)(m,e.stats);console.log("Raw calculation results:",s),v(s),console.log("✅ Calculated ".concat(s.length," chart results"))}catch(s){console.error("❌ Failed to calculate chart results:",s),s instanceof Error&&console.error("Error details:",s.message,s.stack),v([])}finally{p(!1)}}},[e,m]);let w=e?e.stats.remoteImages+e.stats.hostessImages+e.stats.selfies:0,y=e?e.stats.indoor+e.stats.outdoor+e.stats.stadium:0,L=e?e.stats.female+e.stats.male:0,V=e?e.stats.genAlpha+e.stats.genYZ:0,S=e?e.stats.genX+e.stats.boomer:0;return(e&&(e.stats.merched,e.stats.jersey,e.stats.scarf,e.stats.flags,e.stats.baseballCap,e.stats.other),u)?(0,t.jsx)("div",{className:r().container,children:(0,t.jsxs)("div",{className:r().loading,children:[(0,t.jsx)("div",{className:r().spinner}),(0,t.jsx)("p",{children:"Loading hashtag statistics..."})]})}):f?(0,t.jsx)("div",{className:r().container,children:(0,t.jsxs)("div",{className:r().error,children:[(0,t.jsx)("h1",{children:"❌ Error"}),(0,t.jsx)("p",{children:f}),(0,t.jsx)("p",{children:"The hashtag you're looking for might not exist or may have been removed."})]})}):e?(0,t.jsxs)("div",{className:"admin-container",children:[(0,t.jsx)("div",{className:"glass-card admin-header",children:(0,t.jsxs)("div",{className:"admin-header-content",children:[(0,t.jsxs)("div",{className:"admin-branding",children:[(0,t.jsxs)("h1",{className:"admin-title",children:["#",C||a]}),(0,t.jsxs)("p",{className:"admin-subtitle",children:["Aggregated Statistics - ",e.dateRange.formatted]}),(0,t.jsxs)("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:["\uD83D\uDCCA ",e.projectCount," project",1!==e.projectCount?"s":""," with this hashtag"]})]}),(0,t.jsx)("div",{className:"admin-user-info",children:(0,t.jsxs)("div",{className:"admin-badge",style:{padding:"0.75rem 1rem"},children:[(0,t.jsxs)("p",{className:"admin-role",children:["\uD83D\uDCC5 ",e.dateRange.formatted]}),(0,t.jsx)("p",{className:"admin-level",children:"\uD83D\uDCCA Projects"}),(0,t.jsx)("p",{className:"admin-status",children:e.projectCount})]})})]})}),(0,t.jsxs)("div",{className:"glass-card charts-section",children:[(0,t.jsx)("h2",{className:"section-title",children:"\uD83D\uDCCA Data Visualization"}),g?(0,t.jsxs)("div",{className:r().loading,children:[(0,t.jsx)("div",{className:r().spinner}),(0,t.jsx)("p",{children:"Loading charts..."})]}):(0,t.jsx)("div",{children:x.length>0?(0,t.jsx)("div",{className:"dynamic-charts-grid",children:x.map((s,a)=>{console.log("Chart ".concat(s.chartId,":"),s);let e=s.elements.filter(s=>"number"==typeof s.value),l=e.reduce((s,a)=>s+a.value,0);return(console.log("Chart ".concat(s.chartId," - validElements: ").concat(e.length,", totalValue: ").concat(l)),e.length>0&&("bar"===s.type||l>0))?(0,t.jsx)(d.at,{title:s.title,subtitle:s.subtitle,emoji:s.emoji,className:"chart-item",children:(0,t.jsx)(d.AQ,{result:s})},s.chartId):(console.log("Hiding chart ".concat(s.chartId," - no valid data")),null)}).filter(Boolean)}):(0,t.jsx)("div",{className:r().error,children:(0,t.jsx)("p",{children:"No chart configurations available"})})})]}),(0,t.jsxs)("div",{className:r().statsGrid,children:[(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsxs)("h2",{className:r().sectionTitle,children:["\uD83D\uDCF8 Images (",w,")"]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Remote Images"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.remoteImages})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Hostess Images"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.hostessImages})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Selfies"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.selfies})]})]})]}),(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsxs)("h2",{className:r().sectionTitle,children:["\uD83D\uDC65 Fans (",y,")"]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Indoor"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.indoor})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Outdoor"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.outdoor})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Stadium"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.stadium})]})]})]}),(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsxs)("h2",{className:r().sectionTitle,children:["⚧️ Gender (",L,")"]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Female"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.female})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Male"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.male})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Total Gender"}),(0,t.jsx)("div",{className:r().statValue,children:L})]})]})]}),(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsxs)("h2",{className:r().sectionTitle,children:["\uD83C\uDF82 Age Groups (",V+S,")"]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Gen Alpha"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.genAlpha})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Gen Y+Z"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.genYZ})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Total Under 40"}),(0,t.jsx)("div",{className:r().statValue,children:V})]})]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Gen X"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.genX})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Boomer"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.boomer})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Total Over 40"}),(0,t.jsx)("div",{className:r().statValue,children:S})]})]})]}),(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsx)("h2",{className:r().sectionTitle,children:"\uD83D\uDED1️ Fans with Merchandise"}),(0,t.jsx)("div",{className:r().statsRow,children:(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Merched Fans"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.merched})]})})]}),(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsxs)("h2",{className:r().sectionTitle,children:["\uD83D\uDC55 Merchandise Types (",e.stats.jersey+e.stats.scarf+e.stats.flags+e.stats.baseballCap+e.stats.other,")"]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Jersey"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.jersey})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Scarf"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.scarf})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Flags"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.flags})]})]}),(0,t.jsxs)("div",{className:r().statsRow,children:[(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Baseball Cap"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.baseballCap})]}),(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Other"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.other})]})]})]}),(e.stats.approvedImages||e.stats.eventAttendees||e.stats.visitWeb)&&(0,t.jsxs)("div",{className:r().section,children:[(0,t.jsx)("h2",{className:r().sectionTitle,children:"\uD83D\uDCC8 Performance Metrics"}),(0,t.jsxs)("div",{className:r().statsRow,children:[void 0!==e.stats.approvedImages&&(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Approved Images"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.approvedImages})]}),void 0!==e.stats.eventAttendees&&(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Event Attendees"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.eventAttendees})]}),void 0!==e.stats.visitWeb&&(0,t.jsxs)("div",{className:r().statCard,children:[(0,t.jsx)("div",{className:r().statLabel,children:"Web Visits"}),(0,t.jsx)("div",{className:r().statValue,children:e.stats.visitWeb})]})]})]})]}),o.length>0&&(0,t.jsxs)("div",{className:"glass-card",children:[(0,t.jsxs)("h2",{className:"section-title",children:["\uD83D\uDCCA Projects with #",C||a]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem",marginTop:"1rem"},children:o.map(s=>(0,t.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"1px solid rgba(99, 102, 241, 0.1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",transition:"all 0.2s ease"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 0.75rem 0",fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:s.viewSlug?(0,t.jsx)("a",{href:"/stats/".concat(s.viewSlug),style:{color:"#6366f1",textDecoration:"none",borderBottom:"1px solid transparent",transition:"border-color 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.borderBottomColor="#6366f1"},onMouseLeave:s=>{s.currentTarget.style.borderBottomColor="transparent"},target:"_blank",rel:"noopener noreferrer",title:"View statistics for ".concat(s.eventName),children:s.eventName}):(0,t.jsx)("span",{children:s.eventName})}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem",color:"#6b7280"},children:[(0,t.jsxs)("span",{children:["\uD83D\uDCC5 ",new Date(s.eventDate).toLocaleDateString()]}),s.viewSlug&&(0,t.jsx)("span",{style:{background:"rgba(99, 102, 241, 0.1)",color:"#6366f1",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500"},children:"\uD83D\uDCCA View Stats"})]})]},s._id))})]}),(0,t.jsx)("div",{className:r().footer,children:(0,t.jsxs)("p",{children:["Generated on ",new Date().toLocaleDateString()," • MessMass Hashtag Statistics"]})})]}):(0,t.jsx)("div",{className:r().container,children:(0,t.jsxs)("div",{className:r().error,children:[(0,t.jsx)("h1",{children:"\uD83D\uDCCA Hashtag Not Found"}),(0,t.jsx)("p",{children:"No projects found with this hashtag."})]})})}}},s=>{s.O(0,[675,374,562,441,964,358],()=>s(s.s=267)),_N_E=s.O()}]);